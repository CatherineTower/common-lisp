(in-package #:mfiano.graphics.image.test)


(macrolet ((delta-e-2000-test ((l1 a1 b1) (l2 a2 b2) result)
             `(p:true (float= (c:delta-e-2000 (c:lab ,l1 ,a1 ,b1)
                                              (c:lab ,l2 ,a2 ,b2))
                              ,result
                              :tolerance 5d-5))))
  (p:define-test "Color > Difference"
    :parent "Color"
    (delta-e-2000-test (50.0 2.6772 -79.7751) (50.0 0.0 -82.7485) 2.0424596801565702008929)
    (delta-e-2000-test (50.0 3.1571 -77.2803) (50.0 0.0 -82.7485) 2.8615101747474898097323)
    (delta-e-2000-test (50.0 2.8361 -74.02) (50.0 0.0 -82.7485) 3.4411905986907100896133)
    (delta-e-2000-test (50.0 -1.3802 -84.2814) (50.0 0.0 -82.7485) 1.0)
    (delta-e-2000-test (50.0 -1.1848 -84.8006) (50.0 0.0 -82.7485) 1.0)
    (delta-e-2000-test (50.0 -0.9009 -85.5211) (50.0 0.0 -82.7485) 1.0)
    (delta-e-2000-test (50.0 0.0 0.0) (50.0 -1.0 2.0) 2.3668588191717501167943)
    (delta-e-2000-test (50.0 -1.0 2.0) (50.0 0.0 0.0) 2.3668588191717501167943)
    (delta-e-2000-test (50.0 2.49 -0.001) (50.0 -2.49 9.0E-4) 7.1791720113489798649198)
    (delta-e-2000-test (50.0 2.49 -0.001) (50.0 -2.49 0.001) 7.1791626400015600140136)
    (delta-e-2000-test (50.0 2.49 -0.001) (50.0 -2.49 0.0011) 7.2194721522857498996473)
    (delta-e-2000-test (50.0 2.49 -0.001) (50.0 -2.49 0.0012) 7.2194742124714004205543)
    (delta-e-2000-test (50.0 -0.001 2.49) (50.0 9.0E-4 -2.49) 4.8045216857747501393305)
    (delta-e-2000-test (50.0 -0.001 2.49) (50.0 0.001 -2.49) 4.8045245082117702395408)
    (delta-e-2000-test (50.0 -0.001 2.49) (50.0 0.0011 -2.49) 4.7460711138066802305957)
    (delta-e-2000-test (50.0 2.5 0.0) (50.0 0.0 -2.5) 4.3064820958270599859929)
    (delta-e-2000-test (50.0 2.5 0.0) (73.0 25.0 -18.0) 27.1492313007463010876563)
    (delta-e-2000-test (50.0 2.5 0.0) (61.0 -5.0 29.0) 22.8976924698068984298516)
    (delta-e-2000-test (50.0 2.5 0.0) (56.0 -27.0 -3.0) 31.9030046468638985857069)
    (delta-e-2000-test (50.0 2.5 0.0) (58.0 24.0 15.0) 19.4535214333925985386031)
    (delta-e-2000-test (50.0 2.5 0.0) (50.0 3.1736 0.5854) 1.0)
    (delta-e-2000-test (50.0 2.5 0.0) (50.0 3.2972 0.0) 1.0)
    (delta-e-2000-test (50.0 2.5 0.0) (50.0 1.8634 0.5757) 1.0)
    (delta-e-2000-test (50.0 2.5 0.0) (50.0 3.2592 0.335) 1.0)
    (delta-e-2000-test (60.2574 -34.0099 36.2677) (60.4626 -34.1751 39.4387) 1.2644200135991900957322)
    (delta-e-2000-test (63.0109 -31.0961 -5.8663) (62.8187 -29.7946 -4.0864) 1.2629592982622299679463)
    (delta-e-2000-test (61.2901 3.7196 -5.3901) (61.4292 2.248 -4.962) 1.8730705001183600710846)
    (delta-e-2000-test (35.0831 -44.1164 3.7933) (35.0232 -40.0716 1.5901) 1.8644952341594600575547)
    (delta-e-2000-test (22.7233 20.0904 -46.694) (23.0331 14.973 -42.5619) 2.0372582697089698378079)
    (delta-e-2000-test (36.4612 47.858 18.3852) (36.2715 50.5065 21.2231) 1.4145779224938099805087)
    (delta-e-2000-test (90.8027 -2.0831 1.441) (91.1528 -1.6435 0.0447) 1.4441290780930200465804)
    (delta-e-2000-test (90.9257 -0.5406 -0.9208) (88.6381 -0.8985 -0.7239) 1.5381170054396799962149)
    (delta-e-2000-test (6.7747 -0.2908 -2.4247) (5.8714 -0.0985 -2.2286) 0.6377276718841150549011)
    (delta-e-2000-test (2.0776 0.0795 -1.135) (0.9033 -0.0636 -0.5514) 0.9082328396025249883650)))
