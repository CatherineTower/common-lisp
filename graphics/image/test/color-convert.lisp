(in-package #:mfiano.graphics.image.test)

(plan nil)

(subtest "From XYZ (one way)"

  ;; Select illuminant E on Lindbloom, because the source XYZ is defined for illuminant E.
  (test-one-way (i:xyz 0.1 0.5 0.9) i:xyy (0.066667 0.333333 0.5))

  ;; Select illuminant E on Lindbloom, because the source XYZ is defined for illuminant E.
  (test-one-way (i:xyz 0.1 0.5 0.9) i:lab (76.0693 -164.7708 -34.3578))

  ;; Select illuminant E on Lindbloom, because the source XYZ is defined for illuminant E.
  (test-one-way (i:xyz 0.1 0.5 0.9) i:lch-ab (76.0693 168.3148 191.7785))

  ;; Select illuminant E on Lindbloom, because the source XYZ is defined for illuminant E.
  (test-one-way (i:xyz 0.1 0.5 0.9) i:lch-uv (76.0693 173.64 192.0948))

  ;; Select illuminant E on Lindbloom, because the source XYZ is defined for illuminant E.
  (test-one-way (i:xyz 0.1 0.5 0.9) i:luv (76.0693 -169.7857 -36.3826)))

(subtest "From xyY (one way)"

  ;; Select illuminant E on Lindbloom, because the source XYY is defined for illuminant E.
  (test-one-way (i:xyy 0.1 0.5 0.9) i:xyz (0.18 0.9 0.72))

  ;; Select illuminant E on Lindbloom, because the source XYY is defined for illuminant E.
  (test-one-way (i:xyy 0.1 0.5 0.9) i:lab (95.9968 -200.4339 13.8417))

  ;; Select illuminant E on Lindbloom, because the source XYY is defined for illuminant E.
  (test-one-way (i:xyy 0.1 0.5 0.9) i:lch-ab (95.9968 200.9113 176.0495))

  ;; Select illuminant E on Lindbloom, because the source XYY is defined for illuminant E.
  (test-one-way (i:xyy 0.1 0.5 0.9) i:lch-uv (95.9968 211.3012 167.1419))

  ;; Select illuminant E on Lindbloom, because the source XYY is defined for illuminant E.
  (test-one-way (i:xyy 0.1 0.5 0.9) i:luv (95.9968 -206.0026 47.0223)))

;; (subtest "From XYZ (round trip)"
;;   (test-round-trip i:xyz i:xyy)
;;   (test-round-trip i:xyz i:lab)
;;   (test-round-trip i:xyz i:lch-ab)
;;   (test-round-trip i:xyz i:lch-uv)
;;   (test-round-trip i:xyz i:luv)
;;   (test-round-trip i:xyz (i:rgb i:adobe-rgb))
;;   (test-round-trip i:xyz (i:rgb i:adobe-wide-gamut-rgb))
;;   (test-round-trip i:xyz (i:rgb i:apple-rgb))
;;   (test-round-trip i:xyz (i:rgb i:best-rgb))
;;   (test-round-trip i:xyz (i:rgb i:beta-rgb))
;;   (test-round-trip i:xyz (i:rgb i:bruce-rgb))
;;   (test-round-trip i:xyz (i:rgb i:bt.2020))
;;   (test-round-trip i:xyz (i:rgb i:bt.470-ntsc))
;;   (test-round-trip i:xyz (i:rgb i:bt.470-pal/secam))
;;   (test-round-trip i:xyz (i:rgb i:bt.709))
;;   (test-round-trip i:xyz (i:rgb i:cie-rgb))
;;   (test-round-trip i:xyz (i:rgb i:colormatch-rgb))
;;   (test-round-trip i:xyz (i:rgb i:dci-p3))
;;   (test-round-trip i:xyz (i:rgb i:dci-p3+))
;;   (test-round-trip i:xyz (i:rgb i:don-rgb-4))
;;   (test-round-trip i:xyz (i:rgb i:eci-rgb-v2))
;;   (test-round-trip i:xyz (i:rgb i:ekta-space-ps5))
;;   (test-round-trip i:xyz (i:rgb i:romm-rgb))
;;   (test-round-trip i:xyz (i:rgb i:simple-srgb))
;;   (test-round-trip i:xyz (i:rgb i:smpte-c-rgb))
;;   (test-round-trip i:xyz (i:rgb i:srgb)))

;; (subtest "From xyY (round trip)"
;;   (test-round-trip i:xyy i:xyz)
;;   (test-round-trip i:xyy i:lab)
;;   (test-round-trip i:xyy i:lch-ab)
;;   (test-round-trip i:xyy i:lch-uv)
;;   (test-round-trip i:xyy i:luv)
;;   (test-round-trip i:xyy (i:rgb i:adobe-rgb))
;;   (test-round-trip i:xyy (i:rgb i:adobe-wide-gamut-rgb))
;;   (test-round-trip i:xyy (i:rgb i:apple-rgb))
;;   (test-round-trip i:xyy (i:rgb i:best-rgb))
;;   (test-round-trip i:xyy (i:rgb i:beta-rgb))
;;   (test-round-trip i:xyy (i:rgb i:bruce-rgb))
;;   (test-round-trip i:xyy (i:rgb i:bt.2020))
;;   (test-round-trip i:xyy (i:rgb i:bt.470-ntsc))
;;   (test-round-trip i:xyy (i:rgb i:bt.470-pal/secam))
;;   (test-round-trip i:xyy (i:rgb i:bt.709))
;;   (test-round-trip i:xyy (i:rgb i:cie-rgb))
;;   (test-round-trip i:xyy (i:rgb i:colormatch-rgb))
;;   (test-round-trip i:xyy (i:rgb i:dci-p3))
;;   (test-round-trip i:xyy (i:rgb i:dci-p3+))
;;   (test-round-trip i:xyy (i:rgb i:don-rgb-4))
;;   (test-round-trip i:xyy (i:rgb i:eci-rgb-v2))
;;   (test-round-trip i:xyy (i:rgb i:ekta-space-ps5))
;;   (test-round-trip i:xyy (i:rgb i:romm-rgb))
;;   (test-round-trip i:xyy (i:rgb i:simple-srgb))
;;   (test-round-trip i:xyy (i:rgb i:smpte-c-rgb))
;;   (test-round-trip i:xyy (i:rgb i:smpte-c-rgb))
;;   (test-round-trip i:xyy (i:rgb i:srgb)))

;; (subtest "From Lab (round trip)"
;;   (test-round-trip i:lab i:xyz)
;;   (test-round-trip i:lab i:xyy)
;;   (test-round-trip i:lab i:lch-ab)
;;   (test-round-trip i:lab i:lch-uv)
;;   (test-round-trip i:lab i:luv)
;;   (test-round-trip i:lab (i:rgb i:adobe-rgb))
;;   (test-round-trip i:lab (i:rgb i:adobe-wide-gamut-rgb))
;;   (test-round-trip i:lab (i:rgb i:apple-rgb))
;;   (test-round-trip i:lab (i:rgb i:best-rgb))
;;   (test-round-trip i:lab (i:rgb i:beta-rgb))
;;   (test-round-trip i:lab (i:rgb i:bruce-rgb))
;;   (test-round-trip i:lab (i:rgb i:bt.2020))
;;   (test-round-trip i:lab (i:rgb i:bt.470-ntsc))
;;   (test-round-trip i:lab (i:rgb i:bt.470-pal/secam))
;;   (test-round-trip i:lab (i:rgb i:bt.709))
;;   (test-round-trip i:lab (i:rgb i:cie-rgb))
;;   (test-round-trip i:lab (i:rgb i:colormatch-rgb))
;;   (test-round-trip i:lab (i:rgb i:dci-p3))
;;   (test-round-trip i:lab (i:rgb i:dci-p3+))
;;   (test-round-trip i:lab (i:rgb i:don-rgb-4))
;;   (test-round-trip i:lab (i:rgb i:eci-rgb-v2))
;;   (test-round-trip i:lab (i:rgb i:ekta-space-ps5))
;;   (test-round-trip i:lab (i:rgb i:romm-rgb))
;;   (test-round-trip i:lab (i:rgb i:simple-srgb))
;;   (test-round-trip i:lab (i:rgb i:smpte-c-rgb))
;;   (test-round-trip i:lab (i:rgb i:smpte-c-rgb))
;;   (test-round-trip i:lab (i:rgb i:srgb)))

;; (subtest "From LCHab (round trip)"
;;   (test-round-trip i:lch-ab i:xyz)
;;   (test-round-trip i:lch-ab i:xyy)
;;   (test-round-trip i:lch-ab i:lab)
;;   (test-round-trip i:lch-ab i:lch-uv)
;;   (test-round-trip i:lch-ab i:luv)
;;   (test-round-trip i:lch-ab (i:rgb i:adobe-rgb))
;;   (test-round-trip i:lch-ab (i:rgb i:adobe-wide-gamut-rgb))
;;   (test-round-trip i:lch-ab (i:rgb i:apple-rgb))
;;   (test-round-trip i:lch-ab (i:rgb i:best-rgb))
;;   (test-round-trip i:lch-ab (i:rgb i:beta-rgb))
;;   (test-round-trip i:lch-ab (i:rgb i:bruce-rgb))
;;   (test-round-trip i:lch-ab (i:rgb i:bt.2020))
;;   (test-round-trip i:lch-ab (i:rgb i:bt.470-ntsc))
;;   (test-round-trip i:lch-ab (i:rgb i:bt.470-pal/secam))
;;   (test-round-trip i:lch-ab (i:rgb i:bt.709))
;;   (test-round-trip i:lch-ab (i:rgb i:cie-rgb))
;;   (test-round-trip i:lch-ab (i:rgb i:colormatch-rgb))
;;   (test-round-trip i:lch-ab (i:rgb i:dci-p3))
;;   (test-round-trip i:lch-ab (i:rgb i:dci-p3+))
;;   (test-round-trip i:lch-ab (i:rgb i:don-rgb-4))
;;   (test-round-trip i:lch-ab (i:rgb i:eci-rgb-v2))
;;   (test-round-trip i:lch-ab (i:rgb i:ekta-space-ps5))
;;   (test-round-trip i:lch-ab (i:rgb i:romm-rgb))
;;   (test-round-trip i:lch-ab (i:rgb i:simple-srgb))
;;   (test-round-trip i:lch-ab (i:rgb i:smpte-c-rgb))
;;   (test-round-trip i:lch-ab (i:rgb i:smpte-c-rgb))
;;   (test-round-trip i:lch-ab (i:rgb i:srgb)))

;; (subtest "From LCHuv (round trip)"
;;   (test-round-trip i:lch-uv i:xyz)
;;   (test-round-trip i:lch-uv i:xyy)
;;   (test-round-trip i:lch-uv i:lab)
;;   (test-round-trip i:lch-uv i:lch-ab)
;;   (test-round-trip i:lch-uv i:luv)
;;   (test-round-trip i:lch-uv (i:rgb i:adobe-rgb))
;;   (test-round-trip i:lch-uv (i:rgb i:adobe-wide-gamut-rgb))
;;   (test-round-trip i:lch-uv (i:rgb i:apple-rgb))
;;   (test-round-trip i:lch-uv (i:rgb i:best-rgb))
;;   (test-round-trip i:lch-uv (i:rgb i:beta-rgb))
;;   (test-round-trip i:lch-uv (i:rgb i:bruce-rgb))
;;   (test-round-trip i:lch-uv (i:rgb i:bt.2020))
;;   (test-round-trip i:lch-uv (i:rgb i:bt.470-ntsc))
;;   (test-round-trip i:lch-uv (i:rgb i:bt.470-pal/secam))
;;   (test-round-trip i:lch-uv (i:rgb i:bt.709))
;;   (test-round-trip i:lch-uv (i:rgb i:cie-rgb))
;;   (test-round-trip i:lch-uv (i:rgb i:colormatch-rgb))
;;   (test-round-trip i:lch-uv (i:rgb i:dci-p3))
;;   (test-round-trip i:lch-uv (i:rgb i:dci-p3+))
;;   (test-round-trip i:lch-uv (i:rgb i:don-rgb-4))
;;   (test-round-trip i:lch-uv (i:rgb i:eci-rgb-v2))
;;   (test-round-trip i:lch-uv (i:rgb i:ekta-space-ps5))
;;   (test-round-trip i:lch-uv (i:rgb i:romm-rgb))
;;   (test-round-trip i:lch-uv (i:rgb i:simple-srgb))
;;   (test-round-trip i:lch-uv (i:rgb i:smpte-c-rgb))
;;   (test-round-trip i:lch-uv (i:rgb i:smpte-c-rgb))
;;   (test-round-trip i:lch-uv (i:rgb i:srgb)))

;; (subtest "From Luv (round trip)"
;;   (test-round-trip i:luv i:xyz)
;;   (test-round-trip i:luv i:xyy)
;;   (test-round-trip i:luv i:lab)
;;   (test-round-trip i:luv i:lch-ab)
;;   (test-round-trip i:luv i:lch-uv)
;;   (test-round-trip i:luv (i:rgb i:adobe-rgb))
;;   (test-round-trip i:luv (i:rgb i:adobe-wide-gamut-rgb))
;;   (test-round-trip i:luv (i:rgb i:apple-rgb))
;;   (test-round-trip i:luv (i:rgb i:best-rgb))
;;   (test-round-trip i:luv (i:rgb i:beta-rgb))
;;   (test-round-trip i:luv (i:rgb i:bruce-rgb))
;;   (test-round-trip i:luv (i:rgb i:bt.2020))
;;   (test-round-trip i:luv (i:rgb i:bt.470-ntsc))
;;   (test-round-trip i:luv (i:rgb i:bt.470-pal/secam))
;;   (test-round-trip i:luv (i:rgb i:bt.709))
;;   (test-round-trip i:luv (i:rgb i:cie-rgb))
;;   (test-round-trip i:luv (i:rgb i:colormatch-rgb))
;;   (test-round-trip i:luv (i:rgb i:dci-p3))
;;   (test-round-trip i:luv (i:rgb i:dci-p3+))
;;   (test-round-trip i:luv (i:rgb i:don-rgb-4))
;;   (test-round-trip i:luv (i:rgb i:eci-rgb-v2))
;;   (test-round-trip i:luv (i:rgb i:ekta-space-ps5))
;;   (test-round-trip i:luv (i:rgb i:romm-rgb))
;;   (test-round-trip i:luv (i:rgb i:simple-srgb))
;;   (test-round-trip i:luv (i:rgb i:smpte-c-rgb))
;;   (test-round-trip i:luv (i:rgb i:smpte-c-rgb))
;;   (test-round-trip i:luv (i:rgb i:srgb)))

(finalize)
